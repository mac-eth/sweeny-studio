---
import Sectionhead from '@components/sections/sectionhead.astro';
import Container from '@components/ui/astro/container.astro';
import Link from '@components/ui/astro/link.astro';
import { Icon } from 'astro-icon';

const features = [
  'Custom Domains',
  'Storage',
  'Users',
  'Email Support',
  'API Access',
  'SSO Integration',
  'Data Export',
  'File Uploads',
  'Analytics',
  'Custom Branding',
  '24/7 Support',
  'Priority Access',
  'Custom Reporting',
  'Team Collaboration',
  'Integration with CRM',
  'White Label',
  'Data Security',
  'Mobile App Access',
  'User Permissions',
  'Backup and Restore',
  // Add more features as needed
];

const plans = [
  {
    name: 'Free',
    price: '$0',
    color: 'gray',
    values: [
      'Single Subdomain',
      '1GB',
      '10',
      'Email Only',
      '-',
      '-',
      'Limited',
      'Basic',
      'Limited',
      '-',
      '-',
      '-',
      'Basic',
      '-',
      '-',
      '-',
      'Basic',
      '-',
      'Limited',
      '-',
    ],
  },
  {
    name: 'Starter',
    price: '$49/mo',
    color: 'indigo',
    values: [
      '1 Custom Domain',
      '10GB',
      '100',
      'Email and Chat',
      '-',
      '-',
      'Unlimited',
      'Basic',
      'Limited',
      '-',
      '-',
      '-',
      'Basic',
      'Limited',
      '-',
      '-',
      'Basic',
      '-',
      'Limited',
      '-',
    ],
  },
  {
    name: 'Business',
    price: '$149/mo',
    popular: true,
    color: 'orange',
    values: [
      '5 Custom Domains',
      '50GB',
      '500',
      'Email, Chat, and Phone',
      true,
      '-',
      'Unlimited',
      'Advanced',
      'Limited',
      true,
      true,
      '-',
      'Advanced',
      true,
      '-',
      '-',
      'Advanced',
      true,
      'Unlimited',
      true,
    ],
  },
  {
    name: 'Enterprise',
    price: 'Custom',
    color: 'purple',
    values: [
      '100 Custom Domains',
      '200GB',
      'Unlimited',
      '24/7 Support',
      true,
      true,
      'Unlimited',
      'Advanced',
      'Unlimited',
      true,
      true,
      true,
      'Advanced',
      true,
      true,
      true,
      'Advanced',
      true,
      'Unlimited',
      true,
    ],
  },
];

const colors = {
  indigo: 'text-indigo-600',
  orange: 'text-orange-700',
  purple: 'text-purple-600',
};
---

<Container>
  <div class="mt-16">
    <h3 class="text-xl font-bold lg:text-3xl lg:tracking-tight">Compare Plans</h3>
    <p class="mt-1 text-slate-600">Use the table below to compare full features of this product.</p>
  </div>

  {/* Desktop Version */}
  <div class="mt-8 w-full overflow-x-auto rounded-md border border-slate-200 lg:overflow-visible">
    <div class="min-w-max">
      <div class="sticky top-0 rounded-t-md border-b border-slate-200 bg-white py-6">
        <div class="grid grid-cols-5 items-center gap-0 bg-white">
          <div class="px-5 text-slate-500">Compare Plans</div>
          {
            plans.map((plan) => (
              <div class="px-5">
                <h3 class:list={[colors[plan.color] || 'text-neutral-800']}>{plan.name}</h3>
                <div class="mt-1 text-xl font-bold text-black lg:text-2xl">{plan.price}</div>

                <div class="mt-3 flex">
                  <Link href="#" block size="sm" style={plan.popular ? 'primary' : 'outline'}>
                    Get Started
                  </Link>
                </div>
              </div>
            ))
          }
        </div>
      </div>

      <div class="grid grid-cols-5 items-center gap-0">
        <div class="grid">
          {
            features.map((feature) => (
              <div class="border-b border-slate-200 px-5 py-3 text-sm font-medium odd:bg-slate-50">
                {feature}
              </div>
            ))
          }
        </div>

        {
          plans.map((plan) => (
            <div class="grid gap-0">
              {plan.values.map((value) => (
                <div class="border-b border-slate-200 px-5 py-3 text-sm odd:bg-slate-50">
                  {typeof value === 'boolean' ? (
                    <Icon name="ph:check-circle-fill" class="h-5 w-5" />
                  ) : (
                    value
                  )}
                </div>
              ))}
            </div>
          ))
        }
      </div>
    </div>
  </div>
</Container>
